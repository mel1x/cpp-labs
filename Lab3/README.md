# Лабораторная работа №3 Жукова Михила ИТ-1-2024 Вариант 6


## Задание 1.4 Время

### Постановка задачи
Время.
Создайте сущность Время, которое будет описывать текущее время суток в 24-х часовом
формате. Время описывается числом секунд, прошедшим с начала суток. Время может быть
приведено к текстовой форме следующего формата: “ЧЧ:ММ:СС”. Например,если время задано как 12000, то текстовая форма будет “3:20:00”. Если общее время превышает 24 часа, то отображаться в текстовом виде должно только то время, которое прошло с начала последних суток, например 91800, это не 25:30:00, а 1:30:00.
Необходимо создать и вывести на экран текстовую форму для следующих вариантов времени:
10 секунд
10000 секунд
100000 секунд

### Алгоритм решения
1. Создаём класс Time с полем totalSeconds (общее количество секунд)
2. В конструкторе сохраняем значение секунд с использованием модуля 86400 (количество секунд в сутках)
3. Реализуем метод toString(), который:
   - Вычисляет часы: totalSeconds / 3600
   - Вычисляет минуты: (totalSeconds % 3600) / 60
   - Вычисляет секунды: totalSeconds % 60
   - Форматирует строку в формате ЧЧ:ММ:СС с ведущими нулями для минут и секунд
4. Реализуем метод print() для вывода времени на экран

### Тесты
```
10 секунд: 0:00:10
10000 секунд: 2:46:40
100000 секунд: 3:46:40
```


## Задание 1.5 Дом


### Постановка задачи
Дом.
Создайте сущность Дом, которая описывается количеством этажей в виде числа. У Дома можно
запросить текстовую форму, которое имеет представление вида “дом с N этажами”, где N это
число. Гарантировать правильное окончание фразы, в зависимости от количества этажей. Создать и вывести на экран дома с 1, 5, 23 этажами.

### Алгоритм решения
1. Создаём класс House с полем floors (количество этажей)
2. В конструкторе сохраняем значение этажей
3. Реализуем метод toString(), который:
   - Определяет последнюю цифру числа: floors % 10
   - Определяет последние две цифры: floors % 100
   - Применяет правила русского языка для окончаний:
     - Числа 11-14: "этажами"
     - Последняя цифра 1: "этажом" (1, 21, 31, ...)
     - Последние цифры 2-4: "этажами" (2-4, 22-24, ...)
     - Все остальные: "этажами" (5-20, 25-30, ...)
   - Формирует строку "Дом с N этажом/этажами"
4. Реализуем метод print() для вывода информации о доме на экран

### Тесты
```
1 этаж: Дом с 1 этажом
5 этажей: Дом с 5 этажами
23 этажа: Дом с 23 этажами
```


## Задание 2.1 Сотрудники и отделы


### Постановка задачи
Сотрудники и отделы.
Создайте сущность Сотрудник, которая описывается именем (в строковой форме) и отделом, в котором сотрудник работает, причем у каждого отдела есть название и начальник, который также является Сотрудником. Сотрудник может быть приведен к текстовой форме вида: "Имя работает в отделе Название, начальник которого Имя". В случае если сотрудник является руководителем отдела, то текстовая форма должна быть "Имя начальник отдела Название". Необходимо выполнить следующие задачи:
1. Создать Сотрудников Петрова, Козлова, Сидорова работающих в отделе IT.
2. Сделать Козлова начальником IT отдела.
3. Вывести на экран текстовое представление всех трех Сотрудников (у всех троих должен
оказаться один и тот же отдел и начальник).

### Алгоритм решения
1. Создаём два класса: `Department` и `Employee` с циклической зависимостью
2. В классе `Department`:
   - Поля: название отдела (wstring), указатель на начальника (Employee*)
   - Методы: конструктор, setManager(), getManager(), getName()
3. В классе `Employee`:
   - Поля: имя сотрудника (wstring), указатель на отдел (Department*)
   - Методы: конструктор, toString(), print(), getName(), getDepartment()
4. Реализуем метод toString() с условной логикой:
   - Проверяем, является ли текущий сотрудник (this) начальником своего отдела
   - Если да: возвращаем "Имя начальник отдела Название"
   - Если нет: возвращаем "Имя работает в отделе Название, начальник которого Имя_начальника"

### Тесты
```
=== Информация о сотрудниках ===

Петров работает в отделе IT, начальник которого Козлов
Козлов начальник отдела IT
Сидоров работает в отделе IT, начальник которого Козлов
```


## Задание 3.4 Работники и подразделения


### Постановка задачи
Сотрудники и отделы.
Измените решение, полученное в задаче 2.4 таким образом, чтобы имея ссылку на сотрудника,
можно было бы узнать список всех сотрудников этого отдела.

### Алгоритм решения
1. Создаём новые классы: `Division` и `Worker` (альтернативные названия для Department и Employee)
2. В классе `Division`:
   - Добавляем поле: vector<Worker*> workers - список всех работников подразделения
   - Методы: addWorker(), removeWorker(), getAllWorkers()
3. В классе `Worker`:
   - Конструктор автоматически добавляет работника в список подразделения
   - Деструктор автоматически удаляет работника из списка подразделения
   - Метод getAllColleagues() возвращает список всех коллег (всех работников отдела кроме себя)
4. Реализуем автоматическое управление списком работников:
   - При создании Worker автоматически вызывается division->addWorker(this)
   - При удалении Worker автоматически вызывается division->removeWorker(this)

### Тесты
```
=== Информация о работниках ===

Петров работает в подразделении IT, начальник которого Козлов
Козлов начальник подразделения IT
Сидоров работает в подразделении IT, начальник которого Козлов
Иванов работает в подразделении IT, начальник которого Козлов

=== Демонстрация: получение списка коллег через работника ===
Получаем всех коллег через Петрова:
  - Петров
  - Козлов
  - Сидоров
  - Иванов
```


## Задание 4.3 Здание


### Постановка задачи
Создаем Дом.
Измените сущность Дом из задачи 1.5. Новые требования включают:
- Создание дома может осуществляться только путем указания количества этажей.
- После создания дому нельзя изменить количество этажей.
Создайте и выведите на экран дома с 2, 35, 91 этажами. Продемонстрируйте на примере что дому
нельзя заменить количество этажей.

### Алгоритм решения
1. Создаём новый класс Building (альтернативное название для House)
2. В классе Building:
   - Поле floors объявляется как const int - это делает его неизменяемым после инициализации
   - Конструктор принимает количество этажей и инициализирует const поле через список инициализации
   - Методы: toString(), print(), getFloors()
3. Демонстрация неизменяемости:
   - Попытка изменить значение поля floors (например, building.floors = 20) приведёт к ошибке компиляции
   - Нет метода setFloors(), который мог бы изменить значение
   - Единственный способ получить здание с другим количеством этажей - создать новый объект

### Тесты
```
2 этажа: Здание с 2 этажами
35 этажей: Здание с 35 этажами
91 этаж: Здание с 91 этажом

=== Демонстрация неизменяемости количества этажей ===

Создано здание:
Здание с 10 этажами

--- Попытка изменить количество этажей ---

Создаем новое здание с 20 этажами:
Здание с 20 этажами

Первое здание осталось неизменным:
Здание с 10 этажами
```


## Задание 5.1 Пистолет


### Постановка задачи
Пистолет стреляет.
- Создайте сущность Пистолет, которая описывается следующим образом:
- Имеет Количество патронов (целое число)
- Может быть создан с указанием начального количества патронов
- Может быть создан без указания начального количества патронов, в этом случае он
изначально заряжен пятью патронами.
- Может Стрелять, что приводит к выводу на экран текста “Бах!” в том случае, если
количество патронов больше нуля, иначе делает “Клац!”. После каждого выстрела (когда
вывелся “Бах!”) количество патронов уменьшается на один.
Создайте пистолет с тремя патронами и выстрелите из него пять раз. 

### Алгоритм решения
1. Создаём класс `Pistol` с приватным полем `bullets` (количество патронов)
2. Реализуем два конструктора:
   - Конструктор по умолчанию инициализирует `bullets = 5`
   - Конструктор с параметром задаёт начальное количество патронов
3. Реализуем метод `shoot()`:
   - Если `bullets > 0`, выводим «Бах!» и уменьшаем `bullets` на 1
   - Иначе выводим «Клац!»
4. Реализуем метод `print()` для вывода текущего состояния магазина
5. Реализуем метод `getBullets()` для получения текущего количества патронов

### Тесты
```
=== Демонстрация работы пистолета ===

Создаем пистолет с 3 патронами:
Пистолет с магазином: 3

Выполняем 5 выстрелов:
Выстрел 1: Бах!
Выстрел 2: Бах!
Выстрел 3: Бах!
Выстрел 4: Клац!
Выстрел 5: Клац!

Состояние пистолета после выстрелов:
Пистолет с магазином: 0
```